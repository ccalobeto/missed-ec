import{h,f as I,g as N,E as R,H as g,j as o,s as q,k as T,m as d,n as E,o as A,q as v,U as x,v as L,w as D,b as F,x as H,S as O}from"./BNQoMxUY.js";function Y(a,r,e=!1){h&&I();var i=a,f=null,s=null,c=x,b=e?R:0,l=!1;const k=(n,t=!0)=>{l=!0,u(t,n)},u=(n,t)=>{if(c===(c=n))return;let _=!1;if(h){const y=i.data===g;!!c===y&&(i=o(),q(i),T(!1),_=!0)}c?(f?d(f):t&&(f=E(()=>t(i))),s&&A(s,()=>{s=null})):(s?d(s):t&&(s=E(()=>t(i))),f&&A(f,()=>{f=null})),_&&T(!0)};N(()=>{l=!1,r(k),l||u(null,null)},b),h&&(i=v)}function S(a,r){return a===r||(a==null?void 0:a[O])===r}function j(a={},r,e,i){return L(()=>{var f,s;return D(()=>{f=s,s=[],F(()=>{a!==e(...s)&&(r(a,...s),f&&S(e(...f),a)&&r(null,...f))})}),()=>{H(()=>{s&&S(e(...s),a)&&r(null,...s)})}}),a}export{j as b,Y as i};
